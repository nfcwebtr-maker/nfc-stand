<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFC Stand √úretim Formu | nfc.web.tr</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Progress Bar Stilleri */
        .progress-container { position: sticky; top: 0; background: white; z-index: 100; padding: 15px 0; border-bottom: 1px solid #e2e8f0; margin-bottom: 30px; }
        .progress-bar { display: flex; justify-content: space-between; max-width: 600px; margin: 0 auto; position: relative; }
        .progress-step { width: 30px; height: 30px; background: #e2e8f0; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 14px; color: #64748b; z-index: 2; transition: 0.3s; }
        .progress-step.active { background: #2563eb; color: white; }
        .progress-line { position: absolute; top: 50%; left: 0; right: 0; height: 2px; background: #e2e8f0; transform: translateY(-50%); z-index: 1; }

        /* Ana D√ºzen */
        .main-layout { display: flex; gap: 30px; align-items: flex-start; }
        .form-content { flex: 1; }
        
        /* CANLI √ñZET PANELƒ∞ */
        .live-preview {
            width: 320px;
            position: sticky;
            top: 100px;
            background: #fff;
            border: 2px solid #2563eb;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
        }
        .preview-item { margin-bottom: 15px; font-size: 14px; border-bottom: 1px solid #f1f5f9; padding-bottom: 8px; }
        .preview-item span { font-weight: bold; color: #2563eb; display: block; margin-top: 2px; }

        /* Sorumluluk Notu */
        .disclaimer-box {
            background: #fff7ed;
            border: 1px solid #fdba74;
            color: #9a3412;
            padding: 15px;
            border-radius: 12px;
            font-size: 13px;
            margin-top: 20px;
            display: flex;
            gap: 10px;
            align-items: flex-start;
        }

        @media (max-width: 1024px) {
            .main-layout { flex-direction: column; }
            .live-preview { width: 100%; position: relative; top: 0; margin-bottom: 20px; order: -1; }
        }

        .logo-container { text-align: center; margin-bottom: 20px; }
        .logo-img { max-width: 160px; }
        .product-img, .icon-img { width: 100%; height: 80px; object-fit: contain; margin-bottom: 10px; }
        .icon-img { height: 45px; }
        .hidden-section { display: none; margin-top: 30px; background: #f8fafc; padding: 25px; border-radius: 20px; border: 1px solid #e2e8f0; }
        .grid-select-icons { display: grid; grid-template-columns: repeat(auto-fit, minmax(110px, 1fr)); gap: 10px; }
    </style>
</head>
<body>

    <div class="progress-container">
        <div class="progress-bar">
            <div class="progress-line"></div>
            <div id="step-1" class="progress-step active">1</div>
            <div id="step-2" class="progress-step">2</div>
            <div id="step-3" class="progress-step">3</div>
            <div id="step-4" class="progress-step">4</div>
            <div id="step-5" class="progress-step">5</div>
            <div id="step-6" class="progress-step">6</div>
        </div>
        <p style="text-align:center; font-size: 11px; margin-top: 8px; color: #64748b; font-weight: bold;" id="step-text">Model Se√ßimi</p>
    </div>

    <div class="container" style="max-width: 1100px;">
        <div class="logo-container">
            <img src="assets/logo.png" alt="nfc.web.tr" class="logo-img">
        </div>

        <div class="main-layout">
            <div class="form-content">
                <form id="nfcForm">
                    <section id="section-1">
                        <h3><span>1</span> Stand Modeli</h3>
                        <div class="grid-select">
                            <div onclick="selectItem('model', '411', this, 1)" class="select-card">
                                <img src="assets/411.png" class="product-img"><strong>ID: 411</strong>
                            </div>
                            <div onclick="selectItem('model', '412', this, 1)" class="select-card">
                                <img src="assets/412.png" class="product-img"><strong>ID: 412</strong>
                            </div>
                            <div onclick="selectItem('model', '414', this, 1)" class="select-card">
                                <img src="assets/414.png" class="product-img"><strong>ID: 414</strong>
                            </div>
                        </div>
                        <input type="hidden" id="selectedModel">
                    </section>

                    <section id="section-2" style="margin-top:40px;">
                        <h3><span>2</span> Stand Ana Rengi (RAL)</h3>
                        <div class="grid-select">
                            <div onclick="selectItem('color', 'Beyaz 9010', this, 2)" class="select-card"><span class="color-dot" style="background:#f4f4f4;"></span><small>9010</small></div>
                            <div onclick="selectItem('color', 'Siyah 9005', this, 2)" class="select-card"><span class="color-dot" style="background:#0a0a0a;"></span><small>9005</small></div>
                            <div onclick="selectItem('color', 'Gri 7040', this, 2)" class="select-card"><span class="color-dot" style="background:#999da0;"></span><small>7040</small></div>
                            <div onclick="selectItem('color', 'Ye≈üil 6018', this, 2)" class="select-card"><span class="color-dot" style="background:#57a639;"></span><small>6018</small></div>
                            <div onclick="selectItem('color', 'Mavi 5015', this, 2)" class="select-card"><span class="color-dot" style="background:#2271b3;"></span><small>5015</small></div>
                            <div onclick="selectItem('color', 'Kƒ±rmƒ±zƒ± 3020', this, 2)" class="select-card"><span class="color-dot" style="background:#c1121c;"></span><small>3020</small></div>
                        </div>
                        <input type="hidden" id="selectedBaseColor">
                    </section>

                    <section id="section-3" style="margin-top:40px;">
                        <h3><span>3</span> ƒ∞kon Se√ßimi (Max 3)</h3>
                        <div class="grid-select-icons">
                            <label class="select-card"><input type="checkbox" name="icons" value="Google" onchange="handleIconChange(this)"><img src="assets/8.png" class="icon-img"><br><small>Google</small></label>
                            <label class="select-card"><input type="checkbox" name="icons" value="Instagram" onchange="handleIconChange(this)"><img src="assets/6.png" class="icon-img"><br><small>Instagram</small></label>
                            <label class="select-card"><input type="checkbox" name="icons" value="WhatsApp" onchange="handleIconChange(this)"><img src="assets/5.png" class="icon-img"><br><small>WhatsApp</small></label>
                            <label class="select-card"><input type="checkbox" name="icons" value="TikTok" onchange="handleIconChange(this)"><img src="assets/9.png" class="icon-img"><br><small>TikTok</small></label>
                            <label class="select-card"><input type="checkbox" name="icons" value="Websitesi" onchange="handleIconChange(this)"><img src="assets/4.png" class="icon-img"><br><small>Web</small></label>
                            <label class="select-card"><input type="checkbox" name="icons" value="Tripadvisor" onchange="handleIconChange(this)"><img src="assets/10.png" class="icon-img"><br><small>Trip</small></label>
                            <label class="select-card"><input type="checkbox" name="icons" value="Trustpilot" onchange="handleIconChange(this)"><img src="assets/11.png" class="icon-img"><br><small>Trust</small></label>
                        </div>
                    </section>

                    <section id="section-4" style="margin-top:40px;">
                        <h3><span>4</span> ƒ∞kon Rengi</h3>
                        <div class="grid-select">
                            <div onclick="selectItem('iconColor', 'Orijinal', this, 4)" class="select-card">Orijinal</div>
                            <div onclick="selectItem('iconColor', 'Siyah', this, 4)" class="select-card">Siyah</div>
                            <div onclick="selectItem('iconColor', 'Beyaz', this, 4)" class="select-card">Beyaz</div>
                        </div>
                        <input type="hidden" id="selectedIconColor" value="Orijinal">
                    </section>

                    <div id="linksSection" class="hidden-section">
                        <h3><span>5</span> ƒ∞kon Bilgileri</h3>
                        <div id="dynamicLinks"></div>
                    </div>

                    <section id="section-6" style="margin-top:40px;">
                        <h3><span>6</span> Teslimat Bilgileri</h3>
                        <div class="input-group">
                            <input type="text" id="name" placeholder="Ad Soyad" oninput="updateSummary()">
                            <input type="tel" id="phone" placeholder="Telefon" oninput="updateSummary()">
                        </div>
                        <textarea id="address" placeholder="Teslimat Adresi" rows="3" style="margin-top:15px;" oninput="updateSummary()"></textarea>
                        
                        <div class="disclaimer-box">
                            <span>‚ö†Ô∏è</span>
                            <p><strong>√ñnemli:</strong> Girilen t√ºm linklerin, i≈ületme adƒ±nƒ±n ve numaralarƒ±n doƒüruluƒüundan m√º≈üteri sorumludur. L√ºtfen bilgileri kontrol ediniz.</p>
                        </div>
                    </section>

                    <button type="button" onclick="sendWhatsApp()" class="btn-whatsapp" style="margin-top: 30px;">Sipari≈üi WhatsApp ile G√∂nder</button>
                </form>
            </div>

            <div class="live-preview">
                <h2 style="font-size: 18px; margin-bottom: 20px; border-bottom: 2px solid #2563eb; padding-bottom: 10px;">üìã Sipari≈ü √ñzeti</h2>
                <div class="preview-item">Model: <span id="p-model">- Se√ßilmedi -</span></div>
                <div class="preview-item">Renk: <span id="p-color">- Se√ßilmedi -</span></div>
                <div class="preview-item">ƒ∞konlar: <span id="p-icons">- Se√ßilmedi -</span></div>
                <div class="preview-item">ƒ∞kon Rengi: <span id="p-icon-color">Orijinal</span></div>
                <div class="preview-item">M√º≈üteri: <span id="p-name">-</span></div>
                <div style="font-size: 11px; color: #64748b; margin-top: 15px; font-style: italic; line-height: 1.4;">
                    * T√ºm se√ßimlerinizi buradan anlƒ±k takip edebilirsiniz.
                </div>
            </div>
        </div>
    </div>

    <script>
        const stepTexts = ["", "Model Se√ßimi", "Renk Se√ßimi", "ƒ∞kon Se√ßimi", "ƒ∞kon Rengi", "Bilgi Giri≈üi", "ƒ∞leti≈üim ve Onay"];

        function selectItem(type, value, element, step) {
            if(type === 'model') document.getElementById('selectedModel').value = value;
            if(type === 'color') document.getElementById('selectedBaseColor').value = value;
            if(type === 'iconColor') document.getElementById('selectedIconColor').value = value;
            element.parentElement.querySelectorAll('.select-card').forEach(card => card.classList.remove('active'));
            element.classList.add('active');
            updateProgress(step + 1);
            updateSummary();
        }

        function handleIconChange(checkbox) {
            const checkboxes = document.querySelectorAll('input[name="icons"]:checked');
            if (checkboxes.length > 3) { checkbox.checked = false; alert("Maksimum 3 ikon se√ßebilirsiniz."); return; }
            checkbox.parentElement.classList.toggle('active', checkbox.checked);
            updateLinkFields();
            updateSummary();
        }

        function updateLinkFields() {
            const container = document.getElementById('linksSection');
            const dynamicLinks = document.getElementById('dynamicLinks');
            const selectedIcons = document.querySelectorAll('input[name="icons"]:checked');
            dynamicLinks.innerHTML = '';
            
            if (selectedIcons.length > 0) {
                container.style.display = 'block';
                selectedIcons.forEach(icon => {
                    let label, placeholder, type = "text";
                    if (icon.value === "Google") {
                        label = "Google ƒ∞≈ületme Adƒ±";
                        placeholder = "√ñrn: nfc web tr";
                    } else if (icon.value === "WhatsApp") {
                        label = "WhatsApp Numarasƒ±";
                        placeholder = "√ñrn: +90 5xx ...";
                    } else {
                        label = `${icon.value} Linki`;
                        placeholder = "https://...";
                        type = "url";
                    }
                    
                    dynamicLinks.innerHTML += `
                        <div style="margin-bottom:15px;">
                            <label style="display:block; font-size:13px; font-weight:600; margin-bottom:5px;">${label}:</label>
                            <input type="${type}" name="link_${icon.value}" placeholder="${placeholder}" required 
                                   style="width:100%; padding:10px; border-radius:10px; border:1px solid #ddd;" 
                                   oninput="updateSummary()">
                        </div>`;
                });
            } else { container.style.display = 'none'; }
        }

        function updateSummary() {
            document.getElementById('p-model').innerText = document.getElementById('selectedModel').value || "- Se√ßilmedi -";
            document.getElementById('p-color').innerText = document.getElementById('selectedBaseColor').value || "- Se√ßilmedi -";
            document.getElementById('p-icon-color').innerText = document.getElementById('selectedIconColor').value;
            document.getElementById('p-name').innerText = document.getElementById('name').value || "-";
            const icons = Array.from(document.querySelectorAll('input[name="icons"]:checked')).map(i => i.value);
            document.getElementById('p-icons').innerText = icons.length > 0 ? icons.join(', ') : "- Se√ßilmedi -";
        }

        function updateProgress(step) {
            document.querySelectorAll('.progress-step').forEach((el, i) => {
                if (i < step) el.classList.add('active');
                else el.classList.remove('active');
            });
            document.getElementById('step-text').innerText = stepTexts[step] || stepTexts[6];
        }

        function sendWhatsApp() {
            const model = document.getElementById('selectedModel').value;
            const color = document.getElementById('selectedBaseColor').value;
            const name = document.getElementById('name').value;
            if(!model || !color || !name) { alert("L√ºtfen formu eksiksiz doldurunuz."); return; }

            let infoText = "";
            document.querySelectorAll('input[name="icons"]:checked').forEach(icon => {
                const val = document.querySelector(`input[name="link_${icon.value}"]`).value;
                const label = icon.value === "Google" ? "ƒ∞≈ületme" : (icon.value === "WhatsApp" ? "No" : "Link");
                infoText += `   - ${icon.value} (${label}): ${val}%0A`;
            });

            const message = `*üì¶ YENƒ∞ NFC STAND Sƒ∞PARƒ∞≈ûƒ∞*%0A%0A` +
                            `*‚öôÔ∏è MODEL:* ${model}%0A` +
                            `*üé® RENK:* ${color}%0A` +
                            `*‚ú® ƒ∞KON:* ${document.getElementById('selectedIconColor').value}%0A%0A` +
                            `*üîó Bƒ∞LGƒ∞LER:*%0A${infoText}%0A` +
                            `*üë§ M√ú≈ûTERƒ∞:* ${name}%0A` +
                            `*üìû TEL:* ${document.getElementById('phone').value}%0A%0A` +
                            `*‚ö†Ô∏è Not:* M√º≈üteri girilen bilgilerin doƒüruluƒüunu onayladƒ±.`;

            window.open(`https://wa.me/908503463240?text=${message}`, '_blank');
        }
    </script>
</body>
</html>
