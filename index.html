<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFC Stand Üretim Formu | nfc.web.tr</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Progress Bar Stilleri */
        .progress-container { position: sticky; top: 0; background: white; z-index: 100; padding: 15px 0; border-bottom: 1px solid #e2e8f0; margin-bottom: 30px; }
        .progress-bar { display: flex; justify-content: space-between; max-width: 600px; margin: 0 auto; position: relative; }
        .progress-step { width: 30px; height: 30px; background: #e2e8f0; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 14px; color: #64748b; z-index: 2; transition: 0.3s; }
        .progress-step.active { background: #2563eb; color: white; }
        .progress-line { position: absolute; top: 50%; left: 0; right: 0; height: 2px; background: #e2e8f0; transform: translateY(-50%); z-index: 1; }

        .disclaimer-box {
            background: #fff7ed;
            border: 1px solid #fdba74;
            color: #9a3412;
            padding: 15px;
            border-radius: 12px;
            font-size: 13px;
            margin-top: 20px;
            display: flex;
            gap: 10px;
            align-items: flex-start;
        }

        .logo-container { text-align: center; margin-bottom: 20px; }
        .logo-img { max-width: 160px; }
        .product-img, .icon-img { width: 100%; height: 80px; object-fit: contain; margin-bottom: 10px; }
        .icon-img { height: 45px; }
        .hidden-section { display: none; margin-top: 30px; background: #f8fafc; padding: 25px; border-radius: 20px; border: 1px solid #e2e8f0; }
        .grid-select-icons { display: grid; grid-template-columns: repeat(auto-fit, minmax(110px, 1fr)); gap: 10px; }
        
        /* İletişim Alanı Alt Alta Düzen */
        .vertical-inputs input, .vertical-inputs textarea {
            display: block;
            width: 100%;
            margin-bottom: 15px;
            padding: 12px;
            border-radius: 10px;
            border: 1px solid #e2e8f0;
            box-sizing: border-box;
            font-family: inherit;
            font-size: 14px;
        }
    </style>
</head>
<body>

    <div class="progress-container">
        <div class="progress-bar">
            <div class="progress-line"></div>
            <div id="step-1" class="progress-step active">1</div>
            <div id="step-2" class="progress-step">2</div>
            <div id="step-3" class="progress-step">3</div>
            <div id="step-4" class="progress-step">4</div>
            <div id="step-5" class="progress-step">5</div>
            <div id="step-6" class="progress-step">6</div>
        </div>
        <p style="text-align:center; font-size: 11px; margin-top: 8px; color: #64748b; font-weight: bold;" id="step-text">Model Seçimi</p>
    </div>

    <div class="container" style="max-width: 800px;">
        <div class="logo-container">
            <img src="assets/logo.png" alt="nfc.web.tr" class="logo-img">
        </div>

        <h1 style="text-align: center; font-size: 24px; margin-bottom: 40px;">NFC Stand Üretim Formu</h1>

        <form id="nfcForm">
            <section id="section-1">
                <h3><span>1</span> Stand Modeli Seçiniz</h3>
                <div class="grid-select">
                    <div onclick="selectItem('model', '414', this, 1)" class="select-card">
                        <img src="assets/414.png" class="product-img"><strong>Model 414</strong>
                    </div>
                    <div onclick="selectItem('model', '411', this, 1)" class="select-card">
                        <img src="assets/411.png" class="product-img"><strong>Model 411</strong>
                    </div>
                    <div onclick="selectItem('model', '412', this, 1)" class="select-card">
                        <img src="assets/412.png" class="product-img"><strong>Model 412</strong>
                    </div>
                </div>
                <input type="hidden" id="selectedModel" required>
            </section>

            <section id="section-2" style="margin-top:40px;">
                <h3><span>2</span> Stand Ana Rengi (RAL)</h3>
                <div class="grid-select">
                    <div onclick="selectItem('color', 'Beyaz 9010', this, 2)" class="select-card"><span class="color-dot" style="background:#f4f4f4;"></span><small>9010</small></div>
                    <div onclick="selectItem('color', 'Siyah 9005', this, 2)" class="select-card"><span class="color-dot" style="background:#0a0a0a;"></span><small>9005</small></div>
                    <div onclick="selectItem('color', 'Gri 7040', this, 2)" class="select-card"><span class="color-dot" style="background:#999da0;"></span><small>7040</small></div>
                    <div onclick="selectItem('color', 'Yeşil 6018', this, 2)" class="select-card"><span class="color-dot" style="background:#57a639;"></span><small>6018</small></div>
                    <div onclick="selectItem('color', 'Mavi 5015', this, 2)" class="select-card"><span class="color-dot" style="background:#2271b3;"></span><small>5015</small></div>
                    <div onclick="selectItem('color', 'Kırmızı 3020', this, 2)" class="select-card"><span class="color-dot" style="background:#c1121c;"></span><small>3020</small></div>
                </div>
                <input type="hidden" id="selectedBaseColor" required>
            </section>

            <section id="section-3" style="margin-top:40px;">
                <h3><span>3</span> İkon Seçimi (Max 3)</h3>
                <div class="grid-select-icons">
                    <label class="select-card"><input type="checkbox" name="icons" value="Google" onchange="handleIconChange(this)"><img src="assets/8.png" class="icon-img"><br><small>Google</small></label>
                    <label class="select-card"><input type="checkbox" name="icons" value="Instagram" onchange="handleIconChange(this)"><img src="assets/6.png" class="icon-img"><br><small>Instagram</small></label>
                    <label class="select-card"><input type="checkbox" name="icons" value="WhatsApp" onchange="handleIconChange(this)"><img src="assets/5.png" class="icon-img"><br><small>WhatsApp</small></label>
                    <label class="select-card"><input type="checkbox" name="icons" value="TikTok" onchange="handleIconChange(this)"><img src="assets/9.png" class="icon-img"><br><small>TikTok</small></label>
                    <label class="select-card"><input type="checkbox" name="icons" value="Websitesi" onchange="handleIconChange(this)"><img src="assets/4.png" class="icon-img"><br><small>Web</small></label>
                    <label class="select-card"><input type="checkbox" name="icons" value="Tripadvisor" onchange="handleIconChange(this)"><img src="assets/10.png" class="icon-img"><br><small>Tripadvisor</small></label>
                    <label class="select-card"><input type="checkbox" name="icons" value="Trustpilot" onchange="handleIconChange(this)"><img src="assets/11.png" class="icon-img"><br><small>Trustpilot</small></label>
                </div>
            </section>

            <section id="section-4" style="margin-top:40px;">
                <h3><span>4</span> İkon Rengi</h3>
                <div class="grid-select">
                    <div onclick="selectItem('iconColor', 'Orijinal', this, 4)" class="select-card">
                        <div style="background: linear-gradient(45deg, #4285F4, #EA4335, #34A853); width:30px; height:30px; border-radius:50%; margin: 0 auto 5px;"></div>
                        <small>Orijinal</small>
                    </div>
                    <div onclick="selectItem('iconColor', 'Siyah', this, 4)" class="select-card">
                        <div style="background:#000; width:30px; height:30px; border-radius:50%; margin: 0 auto 5px;"></div>
                        <small>Siyah</small>
                    </div>
                    <div onclick="selectItem('iconColor', 'Beyaz', this, 4)" class="select-card">
                        <div style="background:#fff; border:1px solid #ddd; width:30px; height:30px; border-radius:50%; margin: 0 auto 5px;"></div>
                        <small>Beyaz</small>
                    </div>
                </div>
                <input type="hidden" id="selectedIconColor" value="Orijinal">
            </section>

            <div id="linksSection" class="hidden-section">
                <h3><span>5</span> İkon Bilgileri</h3>
                <div id="dynamicLinks"></div>
            </div>

            <section id="section-6" style="margin-top:40px;">
                <h3><span>6</span> İletişim ve Teslimat</h3>
                <div class="vertical-inputs">
                    <input type="text" id="name" placeholder="Ad Soyad" oninput="updateProgress(6)">
                    <input type="tel" id="phone" placeholder="Telefon" oninput="updateProgress(6)">
                    <textarea id="address" placeholder="Teslimat Adresi" rows="3" oninput="updateProgress(6)"></textarea>
                    <input type="text" id="referans" placeholder="Referans / Tavsiye Eden (Opsiyonel)" oninput="updateProgress(6)">
                </div>
                
                <div class="disclaimer-box">
                    <strong>Dikkat:</strong> Girilen tüm bilgilerin doğruluğundan müşteri sorumludur.
                </div>
            </section>

            <button type="button" onclick="sendWhatsApp()" class="btn-whatsapp" style="margin-top: 40px;">
                Siparişi WhatsApp ile Gönder
            </button>
        </form>
    </div>

    <script>
        const stepTexts = ["", "Model Seçimi", "Renk Seçimi", "İkon Seçimi", "İkon Rengi", "Bilgi Girişi", "İletişim ve Onay"];

        function selectItem(type, value, element, step) {
            if(type === 'model') document.getElementById('selectedModel').value = value;
            if(type === 'color') document.getElementById('selectedBaseColor').value = value;
            if(type === 'iconColor') document.getElementById('selectedIconColor').value = value;
            
            element.parentElement.querySelectorAll('.select-card').forEach(card => card.classList.remove('active'));
            element.classList.add('active');
            updateProgress(step + 1);
        }

        function handleIconChange(checkbox) {
            const checkboxes = document.querySelectorAll('input[name="icons"]:checked');
            if (checkboxes.length > 3) { checkbox.checked = false; alert("Maksimum 3 ikon seçebilirsiniz."); return; }
            checkbox.parentElement.classList.toggle('active', checkbox.checked);
            updateLinkFields();
            updateProgress(checkboxes.length > 0 ? 4 : 3);
        }

        function updateLinkFields() {
            const container = document.getElementById('linksSection');
            const dynamicLinks = document.getElementById('dynamicLinks');
            const selectedIcons = document.querySelectorAll('input[name="icons"]:checked');
            dynamicLinks.innerHTML = '';
            
            if (selectedIcons.length > 0) {
                container.style.display = 'block';
                selectedIcons.forEach(icon => {
                    let label, placeholder;
                    if (icon.value === "Google") {
                        label = "Google Isletme Adi"; placeholder = "Orn: nfc web tr";
                    } else if (icon.value === "WhatsApp") {
                        label = "WhatsApp Numarasi"; placeholder = "Orn: +90 5xx ...";
                    } else {
                        label = `${icon.value} Linki`; placeholder = "https://...";
                    }
                    
                    dynamicLinks.innerHTML += `
                        <div style="margin-bottom:15px;">
                            <label style="display:block; font-size:13px; font-weight:600; margin-bottom:5px;">${label}:</label>
                            <input type="text" name="link_${icon.value}" placeholder="${placeholder}" required 
                                   style="width:100%; padding:12px; border-radius:10px; border:1px solid #e2e8f0;">
                        </div>`;
                });
            } else { container.style.display = 'none'; }
        }

        function updateProgress(step) {
            document.querySelectorAll('.progress-step').forEach((el, i) => {
                if (i < step) el.classList.add('active');
                else el.classList.remove('active');
            });
            document.getElementById('step-text').innerText = stepTexts[step] || stepTexts[6];
        }

        function sendWhatsApp() {
            const model = document.getElementById('selectedModel').value;
            const color = document.getElementById('selectedBaseColor').value;
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const address = document.getElementById('address').value;
            const referans = document.getElementById('referans').value;

            if(!model || !color || !name || !phone || !address) { alert("Lutfen formu eksiksiz doldurunuz."); return; }

            let infoText = "";
            document.querySelectorAll('input[name="icons"]:checked').forEach(icon => {
                const valInput = document.querySelector(`input[name="link_${icon.value}"]`);
                const val = valInput ? valInput.value : "";
                const label = icon.value === "Google" ? "Isletme" : (icon.value === "WhatsApp" ? "No" : "Link");
                infoText += `- ${icon.value} (${label}): ${val}%0A`;
            });

            const message = `YENI NFC STAND SIPARISI%0A%0A` +
                            `MODEL: ${model}%0A` +
                            `RENK: ${color}%0A` +
                            `IKON RENGI: ${document.getElementById('selectedIconColor').value}%0A%0A` +
                            `BILGILER:%0A${infoText}%0A` +
                            `MUSTERI: ${name}%0A` +
                            `TEL: ${phone}%0A` +
                            `ADRES: ${address}%0A` +
                            `REFERANS: ${referans || "Belirtilmedi"}%0A%0A` +
                            `Not: Musteri girilen bilgilerin dogrulugunu onayladi.`;

            window.open(`https://wa.me/908503463240?text=${message}`, '_blank');
        }
    </script>
</body>
</html>
